<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RaspnetProtocolImplementation: Source/Layer1/PhysicalLayer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RaspnetProtocolImplementation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="dir_20db0117a471551367b20aebe6a437dc.html">Layer1</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">PhysicalLayer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_c_r_c_8h_source.html">crc.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abdc7388a6e3639dcd2045e63e11bc093"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_physical_layer_8c.html#abdc7388a6e3639dcd2045e63e11bc093">frameInitializer</a> (uint8_t <a class="el" href="_data_link_layer_8c.html#a42676c2cae17bc2fa151feea9e192342">destination</a>, uint8_t *<a class="el" href="main_8c.html#a3892d6499fcc9add20cfcae7a0e3bcb1">sendData</a>, int size)</td></tr>
<tr class="separator:abdc7388a6e3639dcd2045e63e11bc093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87fb1afe7183cfb54e93df4ddee527e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_physical_layer_8c.html#af87fb1afe7183cfb54e93df4ddee527e">isFrameValid</a> ()</td></tr>
<tr class="separator:af87fb1afe7183cfb54e93df4ddee527e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a36a99c772ae64e186f5264a662834eef"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_physical_layer_8c.html#a36a99c772ae64e186f5264a662834eef">source</a> = 0x01</td></tr>
<tr class="separator:a36a99c772ae64e186f5264a662834eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6250b6f8da3e6bf7422f2d726a7c71ab"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_physical_layer_8c.html#a6250b6f8da3e6bf7422f2d726a7c71ab">SendBuffer</a></td></tr>
<tr class="separator:a6250b6f8da3e6bf7422f2d726a7c71ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab6639b5cc33fbfb7cb4c3dfe6ebed1"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_physical_layer_8c.html#abab6639b5cc33fbfb7cb4c3dfe6ebed1">sendFrameInitalized</a> =0</td></tr>
<tr class="separator:abab6639b5cc33fbfb7cb4c3dfe6ebed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545db74c6f3be6593a8cd681aa27fcd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_physical_layer_8c.html#a545db74c6f3be6593a8cd681aa27fcd4">sendFrameSize</a></td></tr>
<tr class="separator:a545db74c6f3be6593a8cd681aa27fcd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="abdc7388a6e3639dcd2045e63e11bc093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc7388a6e3639dcd2045e63e11bc093">&#9670;&nbsp;</a></span>frameInitializer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* frameInitializer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>sendData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>This function is used for initialzing the send frame, with PREAMBLE as 1st byte, next 4 bytes as CRC, 5th byte as size of data, 6th byte as destination address, 7th byte as source address, and the next number of bytes are for data that depends on the user. The function <a class="el" href="_physical_layer_8c.html#abdc7388a6e3639dcd2045e63e11bc093">frameInitializer()</a> is called with destination address, the payload and the size of the data as parameters from <a class="el" href="main_8c.html">main.c</a>. </li>
</ul>
<p>-&gt; Dynamically alocating the frame size for send buffer.</p>
<p>-&gt; Dynamically alocating frame for the user entered data.</p>
<p>-&gt; Calling the <a class="el" href="_c_r_c_8c.html#a2c1b12303a506dc07e7d6e27b1506695">crc32b()</a> with the playload and the size as parameters to get the CRC value for the Payload.</p>
<ul>
<li>Creating the send frame byte by byte.</li>
</ul>
<p>-&gt; The sendFrameInitialized is initialized to 1 if the frame is ready. </p>

</div>
</div>
<a id="af87fb1afe7183cfb54e93df4ddee527e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87fb1afe7183cfb54e93df4ddee527e">&#9670;&nbsp;</a></span>isFrameValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t isFrameValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>This function is used to copy the sendBuffer frame to tempBuffer frame and we are returing the tempBuffer. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6250b6f8da3e6bf7422f2d726a7c71ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6250b6f8da3e6bf7422f2d726a7c71ab">&#9670;&nbsp;</a></span>SendBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* SendBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abab6639b5cc33fbfb7cb4c3dfe6ebed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab6639b5cc33fbfb7cb4c3dfe6ebed1">&#9670;&nbsp;</a></span>sendFrameInitalized</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int sendFrameInitalized =0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a545db74c6f3be6593a8cd681aa27fcd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545db74c6f3be6593a8cd681aa27fcd4">&#9670;&nbsp;</a></span>sendFrameSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendFrameSize</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a36a99c772ae64e186f5264a662834eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36a99c772ae64e186f5264a662834eef">&#9670;&nbsp;</a></span>source</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t source = 0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
